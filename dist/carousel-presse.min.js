"use strict";angular.module("cs-angular-presse",["ngResource","picardy.fontawesome","slick","cs-angular-webservice"]).directive("carouselPresse",["$resource","$timeout","PressWs",function($resource,$timeout,PressWs){return{restrict:"E",scope:{nbImg:"@",height:"@",autoplay:"@",autoplaySpeed:"@"},replace:!0,template:'<div class="press-block">\n    <div class="row" ng-if="mode == \'carousel\'">\n        <div class="col-md-{{colSize}} col-xs-{{colSize}} col-lg-{{colSize}}">\n            <slick infinite="true" speed=300 slides-to-show="{{nbImg}}" touch-move="false" slides-to-scroll=1 class="slider" init-onload="true" data="presses" arrows="true" centerMode="true" ng-class="componentClasses">\n                <div ng-repeat="elt in presses">\n                    <img ng-src="{{elt.Presse.img}}" height="{{height}}" width="{{height}}">\n                </div>\n            </slick>\n        </div>\n    </div>\n\n    <div ng-if="mode == \'static\'">\n        <ul>\n            <li ng-repeat="elt in presses">\n                <a ng-href="elt.Presse.link" target="_blank"><img ng-src="{{elt.Presse.img}}" height="{{height}}" width="{{height}}"></a>\n            </li>\n        </ul>\n    </div>\n\n</div>\n',link:function(scope,element,attrs){},controller:function($scope,$element,$attrs){$scope.mode=!angular.isDefined($attrs.mode)||"carousel"!=$attrs.mode&&"static"!=$attrs.mode?"static":$attrs.mode,$scope.height=$scope.height?$scope.height:100,$scope.componentClasses=$attrs["class"]?"press-carousel "+$attrs["class"]:"press-carousel",$scope.colSize=$attrs.colSize?$attrs.colSize:6,PressWs.getAll(function(data){angular.isDefined(data.reponse)&&$timeout(function(){console.log(data.reponse),$scope.presses=data.reponse},500)})}}}]);